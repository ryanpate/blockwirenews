{% extends "base_enhanced.html" %}

{% block title %}Cryptocurrency Analysis & Insights - BlockWire News{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h1 style="color: var(--primary-color); margin-bottom: 2rem;">Cryptocurrency Analysis & Insights</h1>
    
    {% for article in articles.items %}
    <article style="background: white; border-radius: 8px; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <h2 style="margin-bottom: 0.5rem;">
            <a href="{{ url_for('view_article', slug=article.slug) }}" 
               style="color: var(--primary-color); text-decoration: none;">
                {{ article.title }}
            </a>
        </h2>
        
        <div style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">
            By <strong>{{ article.author.username }}</strong> • 
            Published {{ article.published_at.strftime('%B %d, %Y') if article.published_at else 'Draft' }} •
            {{ article.views }} views
        </div>
        
        <p style="color: #333; line-height: 1.6; margin-bottom: 1rem;">
            {{ article.summary or article.content[:200] }}...
        </p>
        
        <a href="{{ url_for('view_article', slug=article.slug) }}" 
           style="color: var(--accent-color); text-decoration: none; font-weight: 500;">
            Read full analysis →
        </a>
    </article>
    {% endfor %}
    
    {% if not articles.items %}
    <div style="text-align: center; padding: 3rem; color: #666;">
        <p>No analysis articles available yet.</p>
        {% if current_user.is_authenticated %}
        <a href="{{ url_for('new_article') }}" class="btn" style="margin-top: 1rem;">Write First Analysis</a>
        {% endif %}
    </div>
    {% endif %}
    
    <!-- Pagination -->
    {% if articles.pages > 1 %}
    <div class="pagination">
        {% if articles.has_prev %}
            <a href="{{ url_for('analysis_page', page=articles.prev_num) }}">← Previous</a>
        {% endif %}
        
        <span class="active">Page {{ articles.page }} of {{ articles.pages }}</span>
        
        {% if articles.has_next %}
            <a href="{{ url_for('analysis_page', page=articles.next_num) }}">Next →</a>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}