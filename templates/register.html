{% extends "base_enhanced.html" %}

{% block title %}Register - BlockWire News{% endblock %}

{% block content %}
<div class="form-container">
    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">Join BlockWire News</h2>

    {% if error_message %}
    <div
        style="background: #f8d7da; color: #721c24; padding: 1rem; border-radius: 4px; margin-bottom: 2rem; border: 1px solid #f5c6cb;">
        <strong>Database Error:</strong> {{ error_message }}
    </div>
    {% endif %}

    <form method="POST" action="">
        {{ form.hidden_tag() }}

        <div class="form-group">
            {{ form.username.label(class="form-label") }}
            {{ form.username(class="form-control", placeholder="Choose a username") }}
            {% if form.username.errors %}
            {% for error in form.username.errors %}
            <div class="form-error">{{ error }}</div>
            {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", placeholder="your@email.com") }}
            {% if form.email.errors %}
            {% for error in form.email.errors %}
            <div class="form-error">{{ error }}</div>
            {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.password.label(class="form-label") }}
            {{ form.password(class="form-control", placeholder="Create a strong password") }}
            {% if form.password.errors %}
            {% for error in form.password.errors %}
            <div class="form-error">{{ error }}</div>
            {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.password2.label(class="form-label") }}
            {{ form.password2(class="form-control", placeholder="Confirm your password") }}
            {% if form.password2.errors %}
            {% for error in form.password2.errors %}
            <div class="form-error">{{ error }}</div>
            {% endfor %}
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.submit(class="btn", style="width: 100%") }}
        </div>

        <div style="text-align: center; margin-top: 1rem;">
            <p>Already have an account? <a href="{{ url_for('login') }}" style="color: var(--accent-color);">Login
                    here</a></p>
        </div>
    </form>
</div>
{% endblock %}